<!DOCTYPE html>
<html lang="en">

<head>
    <title>Daily sudoku</title>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="favicon.ico">
    <script src="wasm_exec.js"></script>
    <link rel="stylesheet" href="style.css" loading="lazy">
</head>

<body>
    <a id="source_code" style="float:right;margin-right:10px;" href="https://github.com/2asm/daily_sudoku"
        tabindex="-1">source code</a>
    <br />
    <div id="body2">
        <h2>Today's sudoku</h2>
        <table>
            <tbody>
                <tr class="row1">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr class="row2">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr class="row3">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr class="row4">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr class="row5">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr class="row6">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr class="row7">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr class="row8">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr class="row9">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        <br />
        <br />
        <button id="check" tabindex="-1">CHECK</button>
        <br />
        <h4 id="result"></h4>
        <input id="keybot" tabindex="-1" hidden></button>
    </div>
    <script>
        let i = 0, j = 0;
        document.querySelectorAll("td").forEach((e) => {
            if (j >= 9) {
                i += 1;
                j = 0;
            }
            id = "i" + i + "" + j;
            e.className = "c" + i + "" + j;
            e.innerHTML = "<input id=" + id + " class='cell' value='0' style='caret-color: transparent'></input>"
            j += 1;
        })
        document.querySelectorAll("input").forEach((ee) => ee.oninput = (e) => {
            // e.preventDefault();
            let active_element = document.activeElement
            if (e.data >= 1 && e.data <= 9 && active_element.className == "cell") {
                active_element.innerText = e.data;
                active_element.value = e.data;
                active_element.style.color = "grey";
            } else {
                let val = active_element.value[0] || "0";
                active_element.innerText = val;
                active_element.value = val;
                if (val == "0")
                    active_element.style.color = "transparent";
            }
        })
        const go = new Go();
        WebAssembly.instantiateStreaming(fetch("daily.wasm"), go.importObject).then((result) => {go.run(result.instance);});
    </script>
</body>

</html>
